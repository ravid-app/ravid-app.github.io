{"version":3,"sources":["components/add/add-title/AddTitle.module.scss","components/add/submit-btn/SubmitBtn.js","components/add/add-title/AddTitle.js","components/add/add-comment/AddComment.js","components/add/price/Price.js","components/add/price/Price.module.scss","components/add/select-cat/SelectCat.module.scss","components/add/img/Img.js","app-data/cats.js","app-data/carCat.js","app-data/mobileCat.js","app-data/estateCat.js","app-data/otherCat.js","components/add/select-cat/SelectCat.js","components/add/ad-location/AdLocation.js","components/add/Add.js"],"names":["module","exports","SubmitBtn","props","className","shape","type","loading","size","style","width","marginBottom","htmlType","text","AddTitle","cls","touched","title","errors","classes","inputinvalid","Fragment","onBlur","setFieldTouched","input","placeholder","onChange","e","setFieldValue","target","value","class","name","TextArea","Input","AddComment","desc","autoSize","maxRows","minRows","Price","React","useState","price","setPrice","rawValueLength","rawValue","length","parseInt","handleCleave","options","numeral","numeralPositiveOnly","numericOnly","numeralIntegerScale","numeralDecimalScale","Img","fileList","setFileList","onPreview","file","a","src","url","Promise","resolve","reader","FileReader","readAsDataURL","originFileObj","onload","result","image","Image","window","open","document","write","outerHTML","rotate","accept","listType","newFileList","setTimeout","disabled","showUploadList","showPreviewIcon","customRequest","onSuccess","P","icon","CloseOutlined","onClick","cats","carCat","mobileCat","estateCat","otherCat","Option","Select","SelectCat","mainCat","setMainCat","category","classess","option","handleCat","catsMap","map","each","key","optionMap","defaultValue","select","AdLocation","location","initialValues","img","validationSchema","yup","typeError","required","max","integer","positive","withRouter","setLoading","onSubmit","console","log","form","FormData","append","localStorage","getItem","Axios","post","headers","Authorization","then","history","push","catch","message","BootstrapContainer","AddContainer","AddItemContainer"],"mappings":"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","file":"static/js/10.0a8d1166.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"AddTitle_input__1RXEW\",\"inputinvalid\":\"AddTitle_inputinvalid__3fNON\"};","import React from 'react';\r\nimport { Button } from 'antd';\r\n\r\nfunction SubmitBtn(props) {\r\n\treturn (\r\n\t\t<div className=\"d-flex justify-content-center mt-4\">\r\n\t\t\t<Button\r\n\t\t\t\tshape={'round'}\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tloading={props.loading}\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tstyle={{ width: '180px', marginBottom: props.marginBottom || '' }}\r\n\t\t\t\thtmlType=\"submit\"\r\n\t\t\t>\r\n\t\t\t\t{props.text}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SubmitBtn;\r\n","import React from 'react';\r\nimport { Input } from 'antd';\r\nimport P from '../../re-use/p/P';\r\nimport { ErrorMessage } from 'formik';\r\nimport classes from './AddTitle.module.scss';\r\n\r\nfunction AddTitle(props) {\r\n\tconst handleErr = () => {\r\n\t\tif (props.props.touched.title && props.props.errors.title) {\r\n\t\t\treturn classes.inputinvalid;\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t};\r\n\tconst cls = handleErr();\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<P>عنوان آگهی</P>\r\n\t\t\t<Input\r\n\t\t\t\tonBlur={() => props.props.setFieldTouched('title')}\r\n\t\t\t\tclassName={`${classes.input} ${cls}`}\r\n\t\t\t\tplaceholder=\"نام کالا...\"\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tprops.props.setFieldValue('title', e.target.value);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<P class=\"mt-2 text-danger\">\r\n\t\t\t\t<ErrorMessage name=\"title\" />\r\n\t\t\t</P>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default AddTitle;\r\n","import React from 'react';\r\nimport { Input } from 'antd';\r\nimport { ErrorMessage } from 'formik';\r\n\r\nimport P from '../../re-use/p/P';\r\nimport classes from '../add-title/AddTitle.module.scss';\r\n\r\nconst { TextArea } = Input;\r\n\r\nfunction AddComment(props) {\r\n\tconst handleErr = () => {\r\n\t\tif (props.props.touched.desc && props.props.errors.desc) {\r\n\t\t\treturn classes.inputinvalid;\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t};\r\n\tconst cls = handleErr();\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<P>توضیحات آگهی</P>\r\n\t\t\t<TextArea\r\n\t\t\t\tonBlur={() => props.props.setFieldTouched('desc')}\r\n\t\t\t\tclassName={`${classes.input} ${cls}`}\r\n\t\t\t\tplaceholder=\"توضیحات ...\"\r\n\t\t\t\tonChange={(e) => props.props.setFieldValue('desc', e.target.value)}\r\n\t\t\t\tautoSize={{ maxRows: 4, minRows: 4 }}\r\n\t\t\t/>\r\n\t\t\t<P class=\"mt-2 text-danger\">\r\n\t\t\t\t<ErrorMessage name=\"desc\" />\r\n\t\t\t</P>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default AddComment;\r\n","import React from 'react';\r\nimport { ErrorMessage } from 'formik';\r\nimport Cleave from 'cleave.js/react';\r\nimport classes from './Price.module.scss';\r\n\r\nimport P from '../../re-use/p/P';\r\n\r\nfunction Price(props) {\r\n\tconst [ price, setPrice ] = React.useState('');\r\n\r\n\tconst handleErr = () => {\r\n\t\tif (props.props.touched.price && props.props.errors.price) {\r\n\t\t\treturn classes.inputinvalid;\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t};\r\n\tconst cls = handleErr();\r\n\r\n\tconst handleCleave = (e, props) => {\r\n\t\tconst rawValueLength = e.target.rawValue.length;\r\n\t\tconst rawValue = e.target.rawValue;\r\n\t\tconst value = e.target.value;\r\n\t\tif (rawValueLength < 4) {\r\n\t\t\tsetPrice(`تومان ${value}`);\r\n\t\t} else if (rawValueLength < 7) {\r\n\t\t\tsetPrice(`هزار تومان ${value}`);\r\n\t\t} else if (rawValueLength < 10) {\r\n\t\t\tsetPrice(`میلیون تومان ${value}`);\r\n\t\t} else {\r\n\t\t\tsetPrice(`میلیارد تومان ${value}`);\r\n\t\t}\r\n\t\tprops.setFieldValue('price', parseInt(rawValue));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<P>قیمت</P>\r\n\t\t\t<Cleave\r\n\t\t\t\tclassName={`${classes.price} ${cls}`}\r\n\t\t\t\tonChange={(e) => handleCleave(e, props.props)}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\tnumeral: true,\r\n\t\t\t\t\tnumeralPositiveOnly: true,\r\n\t\t\t\t\tnumericOnly: true,\r\n\t\t\t\t\tnumeralIntegerScale: 12,\r\n\t\t\t\t\tnumeralDecimalScale: 0\r\n\t\t\t\t}}\r\n\t\t\t\tonBlur={() => props.props.setFieldTouched('price')}\r\n\t\t\t/>\r\n\r\n\t\t\t<P class=\"mt-1\">{price}</P>\r\n\r\n\t\t\t<P class=\"mt-2 text-danger\">\r\n\t\t\t\t<ErrorMessage name=\"price\" />\r\n\t\t\t</P>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default Price;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"price\":\"Price_price__1tamo\",\"inputinvalid\":\"Price_inputinvalid__1ZEzp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"SelectCat_select__brCK5\"};","import React, { useState } from 'react';\r\nimport { Upload, Button } from 'antd';\r\nimport { ErrorMessage } from 'formik';\r\nimport ImgCrop from 'antd-img-crop';\r\nimport { CloseOutlined } from '@ant-design/icons';\r\nimport P from '../../re-use/p/P';\r\n\r\nfunction Img(props) {\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\r\n\tconst onPreview = async (file) => {\r\n\t\tlet src = file.url;\r\n\t\tif (!src) {\r\n\t\t\tsrc = await new Promise((resolve) => {\r\n\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\treader.readAsDataURL(file.originFileObj);\r\n\t\t\t\treader.onload = () => resolve(reader.result);\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst image = new Image();\r\n\t\timage.src = src;\r\n\t\tconst imgWindow = window.open(src);\r\n\t\timgWindow.document.write(image.outerHTML);\r\n\t};\r\n\r\n\tconst dummy = ({ file, onSuccess }) => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tonSuccess('ok');\r\n\t\t}, 0);\r\n\t};\r\n\r\n\tconst onChange = ({ fileList: newFileList }) => {\r\n\t\tsetFileList(newFileList);\r\n\t\tsetTimeout(() => {\r\n\t\t\tprops.props.setFieldValue('img', fileList[0]);\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst remPhoto = () => {\r\n\t\tsetFileList([]);\r\n\t\tprops.props.setFieldValue('img', '');\r\n\t\tprops.props.setFieldTouched('img');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"d-flex flex-column align-items-center justify-content-center\">\r\n\t\t\t<ImgCrop rotate>\r\n\t\t\t\t<Upload\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center\"\r\n\t\t\t\t\taccept=\".jpg,.png,.jpeg\"\r\n\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\tfileList={fileList}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tonPreview={onPreview}\r\n\t\t\t\t\tdisabled={fileList.length > 1}\r\n\t\t\t\t\tshowUploadList={{ showPreviewIcon: false }}\r\n\t\t\t\t\tcustomRequest={dummy}\r\n\t\t\t\t>\r\n\t\t\t\t\t{fileList.length < 1 && ' + آپلود عکس'}\r\n\t\t\t\t</Upload>\r\n\t\t\t</ImgCrop>\r\n\r\n\t\t\t<P class=\"mt-2 text-danger text-center\">\r\n\t\t\t\t<ErrorMessage name=\"img\" />\r\n\t\t\t</P>\r\n\r\n\t\t\t<Button\r\n\t\t\t\tdisabled={fileList.length < 1}\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\ticon={<CloseOutlined />}\r\n\t\t\t\tonClick={remPhoto}\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t>\r\n\t\t\t\tحذف عکس\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Img;\r\n","export const cats = [\r\n\t{ value: 'mobile', name: 'موبایل' },\r\n\t{ value: 'car', name: 'ماشین' },\r\n\t{ value: 'estate', name: 'مسکن' },\r\n\t{ value: 'other', name: 'دیگر' }\r\n];\r\n","export const carCat = [\r\n\t{ value: 'domestic', name: 'ایرانی' },\r\n\t{ value: 'foreign', name: 'خارجی' },\r\n\t{ value: 'collection', name: 'کلکسیونی' },\r\n\t{ value: 'benz', name: 'بنز' },\r\n\t{ value: 'bmw', name: 'بی ام و' }\r\n];\r\n","export const mobileCat = [ { value: 'iphone', name: 'ایفون' }, { value: 'android', name: 'اندروید' } ];\r\n","export const estateCat = [ { value: 'rent-estate', name: 'اجاره' }, { value: 'buy-estate', name: 'فروش' } ];\r\n","export const otherCat = [ { value: 'other', name: 'متفرقه' } ];\r\n","import React from 'react';\r\nimport { Select } from 'antd';\r\nimport classes from './SelectCat.module.scss';\r\nimport classess from '../add-title/AddTitle.module.scss';\r\nimport P from '../../re-use/p/P';\r\nimport { ErrorMessage } from 'formik';\r\n\r\n// Categories data\r\nimport { cats } from '../../../app-data/cats';\r\nimport { carCat } from '../../../app-data/carCat';\r\nimport { mobileCat } from '../../../app-data/mobileCat';\r\nimport { estateCat } from '../../../app-data/estateCat';\r\nimport { otherCat } from '../../../app-data/otherCat';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction SelectCat(props) {\r\n\tconst [ mainCat, setMainCat ] = React.useState('');\r\n\r\n\tconst handleErr = () => {\r\n\t\tif (props.props.touched.category && props.props.errors.category) {\r\n\t\t\treturn classess.inputinvalid;\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t};\r\n\tconst cls = handleErr();\r\n\r\n\tconst handleCat = () => {\r\n\t\tswitch (mainCat) {\r\n\t\t\tcase 'car':\r\n\t\t\t\treturn carCat;\r\n\t\t\tcase 'mobile':\r\n\t\t\t\treturn mobileCat;\r\n\t\t\tcase 'estate':\r\n\t\t\t\treturn estateCat;\r\n\t\t\tcase 'other':\r\n\t\t\t\treturn otherCat;\r\n\t\t\tdefault:\r\n\t\t\t\treturn '';\r\n\t\t}\r\n\t};\r\n\tconst handle = (e) => {\r\n\t\tprops.props.setFieldValue('category', e);\r\n\t};\r\n\r\n\tconst handleMainCat = (e) => {\r\n\t\tsetMainCat(e);\r\n\t\tprops.props.setFieldValue('category', '');\r\n\t};\r\n\r\n\tconst option = handleCat();\r\n\r\n\tconst catsMap = cats.map((each) => {\r\n\t\treturn (\r\n\t\t\t<Option key={each.name} value={each.value}>\r\n\t\t\t\t{each.name}\r\n\t\t\t</Option>\r\n\t\t);\r\n\t});\r\n\r\n\tconst optionMap =\r\n\t\toption &&\r\n\t\toption.map((each) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Option key={each.name} value={each.value}>\r\n\t\t\t\t\t{each.name}\r\n\t\t\t\t</Option>\r\n\t\t\t);\r\n\t\t});\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<P>انتخاب دسته آگهی</P>\r\n\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t<Select\r\n\t\t\t\t\tonChange={handle}\r\n\t\t\t\t\tdefaultValue={'زیردسته'}\r\n\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\tdisabled={mainCat.length < 1}\r\n\t\t\t\t\tclassName={`${classes.select} mr-2 ${cls}`}\r\n\t\t\t\t\tonBlur={() => props.props.setFieldTouched('category')}\r\n\t\t\t\t>\r\n\t\t\t\t\t{optionMap}\r\n\t\t\t\t</Select>\r\n\t\t\t\t<Select onChange={handleMainCat} defaultValue=\"دسته\" className={classes.select}>\r\n\t\t\t\t\t{catsMap}\r\n\t\t\t\t</Select>\r\n\t\t\t</div>\r\n\t\t\t<P class=\"mt-2 text-danger\">\r\n\t\t\t\t<ErrorMessage name=\"category\" />\r\n\t\t\t</P>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default SelectCat;\r\n","import React from 'react';\r\nimport { Select } from 'antd';\r\nimport { ErrorMessage } from 'formik';\r\nimport classes from '../select-cat/SelectCat.module.scss';\r\nimport classess from '../add-title/AddTitle.module.scss';\r\nimport P from '../../re-use/p/P';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction AdLocation(props) {\r\n\tconst handle = (e) => {\r\n\t\tprops.props.setFieldValue('location', e);\r\n\t};\r\n\tconst handleBlur = () => {\r\n\t\tprops.props.setFieldTouched('location');\r\n\t};\r\n\r\n\tconst handleErr = () => {\r\n\t\tif (props.props.touched.location && props.props.errors.location) {\r\n\t\t\treturn classess.inputinvalid;\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t};\r\n\tconst cls = handleErr();\r\n\r\n\treturn (\r\n\t\t<div className=\"d-flex flex-column justify-content-end align-items-end\">\r\n\t\t\t<P>مکان آگهی</P>\r\n\t\t\t<Select\r\n\t\t\t\tclassName={`${classes.select} ${cls}`}\r\n\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\tplaceholder=\"شهر\"\r\n\t\t\t\tonChange={handle}\r\n\t\t\t\tonBlur={handleBlur}\r\n\t\t\t>\r\n\t\t\t\t<Option value=\"teh\">تهران</Option>\r\n\t\t\t\t<Option value=\"tab\">تبریز</Option>\r\n\t\t\t\t<Option value=\"urm\">ارومیه</Option>\r\n\t\t\t\t<Option value=\"esf\">اصفهان</Option>\r\n\t\t\t</Select>\r\n\t\t\t<P class=\"text-danger mt-2\">\r\n\t\t\t\t<ErrorMessage name=\"location\" />\r\n\t\t\t</P>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AdLocation;\r\n","import React from 'react';\r\nimport { Formik, Form } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n// Components\r\nimport Img from './img/Img';\r\nimport BootstrapContainer from '../re-use/bootstrap-container/BootstrapContainer';\r\nimport AddContainer from '../re-use/add/AddContainer';\r\nimport AddItemContainer from '../re-use/add/AddItemContainer';\r\nimport SelectCat from './select-cat/SelectCat';\r\nimport AddTitle from './add-title/AddTitle';\r\nimport AddComment from './add-comment/AddComment';\r\nimport SubmitBtn from './submit-btn/SubmitBtn';\r\nimport Price from './price/Price';\r\nimport AdLocation from './ad-location/AdLocation';\r\nimport Axios from 'axios';\r\n\r\nconst initialValues = {\r\n\timg: '',\r\n\ttitle: '',\r\n\tdesc: '',\r\n\tcategory: '',\r\n\tprice: '',\r\n\tlocation: ''\r\n};\r\n\r\nconst validationSchema = yup.object({\r\n\timg: yup.string().typeError('عکس انتخاب نشده').required('عکس آگهی انتخاب نشده'),\r\n\ttitle: yup\r\n\t\t.string()\r\n\t\t.typeError('عنوان انتخاب نشده')\r\n\t\t.max(14, 'عنوان باید کمتر از 14 حروف باشد')\r\n\t\t.required('عنوان آگهی انتخاب نشده'),\r\n\tdesc: yup\r\n\t\t.string()\r\n\t\t.typeError('توضیحات انتخاب نشده')\r\n\t\t.max(100, 'توضیحات باید کمتر از 50 حروف باشد')\r\n\t\t.required('توضیحات آگهی انتخاب نشده'),\r\n\tcategory: yup.string().typeError('دسته انتخاب نشده').required('دسته بندی آگهی انتخاب نشده'),\r\n\tprice: yup\r\n\t\t.number('قیمت انتخاب نشده')\r\n\t\t.typeError('قیمت انتخاب نشده')\r\n\t\t.integer('قیمت انتخاب نشده')\r\n\t\t.positive()\r\n\t\t.required('قیمت آگهی انتخاب نشده'),\r\n\tlocation: yup.string().typeError('مکان انتخاب نشده').required(' مکان آگهی انتخاب نشده')\r\n});\r\n\r\nfunction Add(props) {\r\n\tconst [ loading, setLoading ] = React.useState(false);\r\n\tconst onSubmit = (e) => {\r\n\t\tconsole.log(e.img);\r\n\t\tconst form = new FormData();\r\n\t\tform.append('title', e.title);\r\n\t\tform.append('desc', e.desc);\r\n\t\tform.append('location', e.location);\r\n\t\tform.append('subcategory', e.category);\r\n\t\tform.append('number', localStorage.getItem('number'));\r\n\t\tform.append('file', e.img.originFileObj);\r\n\t\tform.append('price', e.price);\r\n\t\tform.append('id', localStorage.getItem('id'));\r\n\t\tsetLoading(true);\r\n\t\tAxios.post('https://ravid-app.herokuapp.com/postAd', form, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${localStorage.getItem('token')}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tprops.history.push('/account');\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tconsole.log(e.message + 'Error');\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Formik initialValues={initialValues} onSubmit={onSubmit} validationSchema={validationSchema}>\r\n\t\t\t{(props) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<BootstrapContainer>\r\n\t\t\t\t\t\t\t<div className=\"col-12 mt-2\">\r\n\t\t\t\t\t\t\t\t<Img props={props} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<AddContainer>\r\n\t\t\t\t\t\t\t\t<AddItemContainer class={`align-items-end`}>\r\n\t\t\t\t\t\t\t\t\t<AdLocation props={props} />\r\n\t\t\t\t\t\t\t\t</AddItemContainer>\r\n\t\t\t\t\t\t\t</AddContainer>\r\n\t\t\t\t\t\t\t<AddContainer>\r\n\t\t\t\t\t\t\t\t<AddItemContainer class={`align-items-end`}>\r\n\t\t\t\t\t\t\t\t\t<SelectCat props={props} />\r\n\t\t\t\t\t\t\t\t</AddItemContainer>\r\n\t\t\t\t\t\t\t</AddContainer>\r\n\t\t\t\t\t\t\t<AddContainer>\r\n\t\t\t\t\t\t\t\t<AddItemContainer class={`align-items-center`}>\r\n\t\t\t\t\t\t\t\t\t<AddTitle props={props} />\r\n\t\t\t\t\t\t\t\t</AddItemContainer>\r\n\t\t\t\t\t\t\t</AddContainer>\r\n\t\t\t\t\t\t\t<AddContainer>\r\n\t\t\t\t\t\t\t\t<AddItemContainer class={`align-items-center`}>\r\n\t\t\t\t\t\t\t\t\t<AddComment props={props} />\r\n\t\t\t\t\t\t\t\t</AddItemContainer>\r\n\t\t\t\t\t\t\t</AddContainer>\r\n\t\t\t\t\t\t\t<AddContainer>\r\n\t\t\t\t\t\t\t\t<AddItemContainer class={`align-items-end`}>\r\n\t\t\t\t\t\t\t\t\t<Price props={props} />\r\n\t\t\t\t\t\t\t\t</AddItemContainer>\r\n\t\t\t\t\t\t\t</AddContainer>\r\n\t\t\t\t\t\t</BootstrapContainer>\r\n\t\t\t\t\t\t<SubmitBtn marginBottom={'1.8em'} loading={loading} props={props} text={`ثبت آگهی`} />\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t</Formik>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Add);\r\n"],"sourceRoot":""}